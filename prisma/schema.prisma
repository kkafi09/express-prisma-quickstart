// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = "mysql://root:@localhost:3306/stapa"
}

model User {
  id        Int      @id @default(autoincrement())
  name      String
  username  String?  @unique
  password  String
  role      Role     @default(USER)
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now())
  Club      Club[]
}

model Category {
  id            Int      @id @default(autoincrement())
  slug          String
  category_name String
  createdAt     DateTime @default(now())
  udpatedAt     DateTime @default(now())
  Club          Club[]
}

model Club {
  id               Int      @id @default(autoincrement())
  club_name        String
  club_nickname    String
  club_shortname   String
  type             Category @relation(fields: [categoryId], references: [id])
  club_origin      String
  club_established DateTime
  start_season     DateTime
  end_season       DateTime
  createdAt        DateTime @default(now())
  updatedAt        DateTime @default(now())
  owner            User     @relation(fields: [userId], references: [id])
  userId           Int
  Player           Player[]
  categoryId       Int
  Match            Match[]
}

model Player {
  id               Int           @id @default(autoincrement())
  uuid             String
  fullname         String
  nickname         String
  number_of_player String
  gender           String
  place_of_birth   DateTime
  date_of_birth    DateTime
  height           Int
  weight           Int
  photo_player     String
  photo_id         String
  is_active        Boolean
  username         String
  password         String
  createdAt        DateTime      @default(now())
  updatedAt        DateTime      @default(now())
  club             Club          @relation(fields: [clubId], references: [id])
  clubId           Int
  DetailMatch      DetailMatch[]
}

model Match {
  id                   Int           @id @default(autoincrement())
  uuid                 String
  opponent_name        String
  league_name          String
  ball_position        String
  lost_ball_position   String
  corner_kick_position String
  match_date           DateTime
  club                 Club          @relation(fields: [clubId], references: [id])
  clubId               Int
  DetailMatch          DetailMatch[]
  createdAt            DateTime      @default(now())
  updatedAt            DateTime      @default(now())
}

model DetailMatch {
  id                              Int      @id @default(autoincrement())
  minute_played                   Int
  fouls                           Int
  red_cards                       Int
  yellow_cards                    Int
  total_saves                     Int
  goal_conceded_saves             Int
  punched_saves                   Int
  insider_saves                   Int
  caught_saves                    Int
  parried_saves                   Int
  outsider_saves                  Int
  success_passes                  Int
  success_final_third_passes      Int
  unsuccessful_passes             Int
  unsuccessful_final_third_passes Int
  tackle_won                      Int
  fifty_won                       Int
  duel_won                        Int
  interception_won                Int
  touches_in_opponent_box         Int
  changes_created                 Int
  forward_passes                  Int
  through_balls                   Int
  assists                         Int
  player                          Player   @relation(fields: [playerId], references: [id])
  match                           Match    @relation(fields: [matchId], references: [id])
  matchId                         Int
  playerId                        Int
  createdAt                       DateTime @default(now())
  updatedAt                       DateTime @default(now())
}

model Periodisasi {
  id                    Int      @id @default(autoincrement())
  name_excercise        String
  type                  String
  description_excercise String
  intensity             String
  time_excercise        Int
  repetition            Int
  number_player         Int
  photo_excercise       String
  photo_id              String
  createdAt             DateTime @default(now())
  updatedAt             DateTime @default(now())
}

enum Role {
  SUPERADMIN
  ADMIN
  USER
}
